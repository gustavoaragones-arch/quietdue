/* QuietDue — Privacy-first early pregnancy calculator
   Design: Muted palette, humanist type, large line spacing, no medical-app feel.
   Accessibility: large tap targets, no time pressure, no auto-scroll jumps.
   Emotional safety: no red/green, no loud reactions. QuietDue never reacts loudly.

   Empathetic UX (Phase 0.5): progressive disclosure, confidence ranges not exact dates,
   calm optional interactions, reassuring copy, gentle expandables, visual uncertainty.
   Principles: quiet · reversible · non-judgmental · privacy-forward · mobile-first.

   PHASE 0.5 — EXPLICITLY DO NOT ADD:
   No storage (cookies, localStorage). No reminders. No notifications.
   No user accounts. No analytics. No urgency CTAs. No medical advice.
   PRIVACY GUARANTEE: No analytics script. No cookies banner. No fetch().
   No localStorage. No sessionStorage. */

:root {
  /* Color — off-white page, warmer content panels. Subtle contrast. */
  --color-bg: #f3f2ef;
  --color-surface: #faf9f6;
  --color-text: #3a3632;
  --color-text-secondary: #6f6a65;
  --color-accent: #8b7c9e;
  --color-border: #e8e6e2;
  --color-divider: rgba(58, 54, 50, 0.06);
  --color-range-soft: rgba(139, 124, 158, 0.12);
  --color-focus: #3a3632;
  --color-focus-ring: rgba(58, 54, 50, 0.1);
  --shadow-subtle: 0 1px 2px rgba(58, 54, 50, 0.03);

  /* Accessibility & emotional safety — no red/green, no loud reactions */
  --tap-target-min: 44px;
  /* If validation UI is added later: use neutral tones, never red/green */
  --color-validation: var(--color-text-secondary);

  /* Typography — humanist sans-serif, soft weights. 60–75 char line length. */
  --font-body: system-ui, -apple-system, "Segoe UI", "Lucida Grande", "Trebuchet MS", "Helvetica Neue", Helvetica, Arial, sans-serif;
  --font-weight-normal: 400;
  --font-weight-medium: 500;

  /* Line spacing — large, comfortable reading */
  --line-height-tight: 1.4;
  --line-height-body: 1.85;
  --line-height-loose: 2;

  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;

  /* Layout — responsive max-width. Reading: 60–75ch. Wide: hero/calculator. */
  --max-width-reading: 42rem;
  --max-width-wide: 51.25rem;
  --max-width: 32rem;
  --section-gap: var(--space-2xl);
  --radius: 8px;
  --radius-sm: 6px;
  --transition-soft: 0.25s ease;
}

/* Respect reduced motion preferences — no spinners, no urgency cues */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: auto;
}

body {
  margin: 0;
  font-family: var(--font-body);
  font-size: 1rem;
  line-height: var(--line-height-body);
  font-weight: var(--font-weight-normal);
  color: var(--color-text);
  background-color: var(--color-bg);
  min-height: 100vh;
}

header {
  /* Base header styles */
}

/* Page header — full-width bar, content centered */
.page-header {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  padding: var(--space-md) var(--space-lg);
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

.page-header::before {
  content: "";
  position: absolute;
  inset: 0 -9999px;
  bottom: -1px;
  background-color: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  z-index: -1;
}

.site-brand {
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  letter-spacing: -0.02em;
  color: var(--color-text);
  text-decoration: none;
  flex-shrink: 0;
  padding: var(--space-sm) 0;
  min-height: var(--tap-target-min);
  display: inline-flex;
  align-items: center;
}

.site-brand:hover {
  color: var(--color-accent);
}

.site-brand:focus-visible {
  outline: none;
  text-decoration: underline;
  text-underline-offset: 0.2em;
}

.page-header nav {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-sm) var(--space-lg);
}

.page-header nav a {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  text-decoration: none;
  padding: var(--space-sm) var(--space-xs);
  min-height: var(--tap-target-min);
  display: inline-flex;
  align-items: center;
}

.page-header nav a:hover {
  color: var(--color-text);
}

/* Nav dropdown — Tools */
.page-header nav .nav-dropdown {
  position: relative;
}

.page-header nav .nav-dropdown summary {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  list-style: none;
  cursor: pointer;
  padding: var(--space-sm) var(--space-xs);
  min-height: var(--tap-target-min);
  display: inline-flex;
  align-items: center;
}

.page-header nav .nav-dropdown summary::-webkit-details-marker {
  display: none;
}

.page-header nav .nav-dropdown summary:hover {
  color: var(--color-text);
}

.page-header nav .nav-dropdown[open] summary {
  color: var(--color-text);
}

.page-header nav .nav-dropdown ul {
  position: absolute;
  top: 100%;
  left: 0;
  margin: 0;
  padding: var(--space-sm) 0;
  list-style: none;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-subtle);
  min-width: 12rem;
  z-index: 10;
}

.page-header nav .nav-dropdown li {
  margin: 0;
}

.page-header nav .nav-dropdown li a {
  display: block;
  padding: var(--space-sm) var(--space-md);
  white-space: nowrap;
}

/* Mobile: stack brand and nav */
@media (max-width: 480px) {
  .page-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .page-header nav {
    padding-top: var(--space-xs);
    border-top: 1px solid var(--color-border);
    width: 100%;
  }
}

/* Breadcrumb */
.breadcrumb {
  margin-bottom: var(--space-lg);
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.breadcrumb a {
  color: var(--color-text-secondary);
  text-decoration: none;
}

.breadcrumb a:hover {
  color: var(--color-text);
}

.breadcrumb span:last-child {
  color: var(--color-text);
}

/* Article content */
.article-content {
  padding-bottom: var(--space-2xl);
}

.article-content h1 {
  margin-bottom: var(--space-lg);
}

.last-reviewed {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin: -0.75rem 0 var(--space-lg);
  font-weight: var(--font-weight-normal);
}

.article-content h2 {
  margin: var(--space-xl) 0 var(--space-md);
  font-size: 1rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.article-content p {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.article-content ul {
  margin: 0 0 var(--space-md);
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.article-content li {
  margin-bottom: var(--space-sm);
}

.article-content .link-cta {
  display: inline-block;
  margin-top: var(--space-lg);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-accent);
  text-decoration: none;
}

.article-content .link-cta:hover {
  color: var(--color-focus);
}

.article-list {
  list-style: none;
  padding-left: 0;
}

.article-list li {
  margin-bottom: var(--space-sm);
}

.article-list a {
  color: var(--color-text);
  text-decoration: none;
}

.article-list a:hover {
  color: var(--color-accent);
}

/* Related reading — centered in main column, no float/sidebar */
.related-reading {
  margin-top: 48px;
  padding: 24px;
  border: 1px solid #eee;
  border-radius: 8px;
  max-width: var(--max-width-reading);
  margin-left: auto;
  margin-right: auto;
}

.related-reading h2 {
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text);
  margin: 0 0 var(--space-md);
}

.related-reading p {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.related-reading ul {
  list-style: none;
  padding: 0;
}

.related-reading li {
  margin-bottom: 12px;
}

.related-reading a {
  color: var(--color-text);
  text-decoration: none;
}

.related-reading a:hover {
  color: var(--color-accent);
}

/* Hero — trust-first, privacy statement. Wider on desktop. */
.hero {
  max-width: var(--max-width-wide);
  margin: 0 auto var(--section-gap);
  padding: var(--space-3xl) var(--space-lg) var(--space-xl);
  text-align: center;
}

/* Homepage: calculator directly below hero — minimal gap so calculator is above the fold on mobile */
.page-content > .hero {
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-lg);
}
.page-content > .hero + .calculator-section {
  margin-top: 0;
}

@media (max-width: 640px) {
  .page-content > .hero {
    padding: var(--space-xl) var(--space-md) var(--space-lg);
    margin-bottom: var(--space-md);
  }
}

.hero-tagline {
  margin: var(--space-md) 0 0;
  font-size: 1rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.hero-positioning {
  margin: var(--space-lg) 0 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
  max-width: 28rem;
  margin-left: auto;
  margin-right: auto;
}

.hero-trust {
  margin-top: var(--space-xl);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
  text-align: left;
}

.hero-trust p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* Data section — explicit what we don't collect */
.data-section {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.data-section h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.data-section p {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.data-list {
  margin: var(--space-md) 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.data-list li {
  margin-bottom: var(--space-sm);
}

.data-closing {
  margin-top: var(--space-lg);
  padding-top: var(--space-lg);
  border-top: 1px solid var(--color-divider);
  margin-bottom: 0 !important;
}

/* Early pregnancy context — empathetic */
.context-section {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.context-section h2 {
  margin: 0 0 var(--space-lg);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.context-section p {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.context-section p:last-of-type {
  margin-bottom: 0;
}

/* What this is / isn't — product framing */
.identity-section {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.identity-section h2 {
  margin: 0 0 var(--space-lg);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.identity-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xl);
}

.identity-section h3 {
  margin: 0 0 var(--space-sm);
  font-size: 0.875rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.identity-section ul {
  margin: 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.identity-section li {
  margin-bottom: var(--space-xs);
}

@media (max-width: 480px) {
  .identity-grid {
    grid-template-columns: 1fr;
  }
}

h1 {
  margin: 0;
  font-size: 1.75rem;
  font-weight: 500;
  letter-spacing: -0.02em;
  line-height: var(--line-height-tight);
  color: var(--color-text);
}

.tagline {
  margin: var(--space-md) 0 0;
  font-size: 1rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* Main — full-width wrapper, centered sections with adaptive max-width */
.page-content,
main {
  margin: 0 auto;
  padding: 0 var(--space-lg) var(--space-3xl);
}

/* Fallback for pages without .page-content (about, learn, etc.) */
main:not(.page-content) {
  max-width: var(--max-width-reading);
  padding-top: var(--space-2xl);
}

/* Guide page — 720px max for calm reading */
main.guide-page {
  max-width: 45rem;
}

/* Calculator results — shown after submission, in memory only. Smooth reveal, no scroll jump. */
.calc-results {
  margin-top: var(--space-2xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--color-divider);
}

.calc-results:not([hidden]) {
  animation: calc-results-fade 0.35s ease;
}

@keyframes calc-results-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.calc-results h3 {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.calc-results .results-grid {
  margin: 0 0 var(--space-lg);
}

.results-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
}

.results-actions .btn {
  flex: 0 0 auto;
}

.calc-date-message,
.calc-action-message {
  margin: var(--space-sm) 0 0;
  font-size: 0.875rem;
  color: var(--color-validation, var(--color-text-secondary));
}

.calc-action-message {
  margin-top: var(--space-md);
}

/* Trust block — privacy explanation */
.trust-block {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.trust-block p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.trust-block p + p {
  margin-top: var(--space-sm);
}

/* Privacy block — Your Privacy Matters (fertility page) */
.privacy-block {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.privacy-block h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.privacy-block p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.privacy-block p + p {
  margin-top: var(--space-sm);
}

.privacy-block ul {
  margin: var(--space-md) 0 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.privacy-block li {
  margin-bottom: var(--space-xs);
}

/* Print actions — shown with results */
.print-actions {
  margin-top: var(--space-xl) !important;
  margin-bottom: 0 !important;
}

.print-actions .btn {
  margin-top: 0;
}

.print-status {
  margin: var(--space-sm) 0 0 !important;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
}

.print-privacy-note {
  margin: var(--space-sm) 0 0 !important;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* Print overlay — hidden on screen, shown only when printing */
.print-overlay {
  display: none;
}

.print-overlay.hidden {
  display: none;
}

/* Calculator — progressive disclosure, empathetic tone */
.calculator-section {
  max-width: var(--max-width-wide);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.calculator-progressive h2 {
  margin: 0 0 var(--space-sm);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.calc-intro {
  margin: 0 0 var(--space-lg);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.calc-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
}

.calc-step {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  transition: opacity var(--transition-soft);
}

.calc-step label {
  font-size: 0.9375rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.calc-step input[type="date"] {
  padding: var(--space-md) var(--space-lg);
  min-height: var(--tap-target-min);
  font-family: inherit;
  font-size: 1rem; /* 16px prevents iOS zoom on focus */
  color: var(--color-text);
  background-color: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  -webkit-appearance: none;
  appearance: none;
  transition: border-color var(--transition-soft), box-shadow var(--transition-soft);
}

.calc-step input[type="date"]:hover {
  border-color: #d8d5d0;
}

.calc-step input[type="date"]:focus {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.calc-step input[type="date"]:focus-visible {
  outline: none;
}

.calc-helper {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* Inline soft validation — calm tone, no red/green */
.field-error {
  margin: var(--space-xs) 0 0;
  font-size: 0.875rem;
  color: var(--color-validation);
  line-height: var(--line-height-body);
}

.field-error:not([hidden]) {
  display: block;
}

/* Optional "Not sure about your dates?" — calm, inline, non-intrusive */
.calc-uncertainty {
  margin-top: var(--space-md);
  padding-top: var(--space-md);
  border-top: 1px solid var(--color-divider);
}

.calc-uncertainty summary {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  list-style: none;
  user-select: none;
  padding: var(--space-sm) 0;
  min-height: var(--tap-target-min);
  display: flex;
  align-items: center;
}

.calc-uncertainty summary::-webkit-details-marker,
.calc-uncertainty summary::marker {
  display: none;
}

.calc-uncertainty summary::before {
  content: "";
  display: inline-block;
  width: 0.5em;
  height: 0.5em;
  margin-right: var(--space-sm);
  border-right: 1px solid var(--color-text-secondary);
  border-bottom: 1px solid var(--color-text-secondary);
  transform: rotate(-45deg);
  transform-origin: 50% 50%;
  transition: transform var(--transition-soft);
}

.calc-uncertainty[open] summary::before {
  transform: rotate(45deg);
}

.calc-uncertainty summary:hover {
  color: var(--color-text);
}

.calc-uncertainty p {
  margin: var(--space-md) 0 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.calc-step-next {
  opacity: 0.7;
  transition: opacity var(--transition-soft);
}

.calc-form:focus-within .calc-step-next {
  opacity: 1;
}

.calc-step-next .btn {
  align-self: flex-start;
  width: auto;
  min-width: 10rem;
}

.calc-reassurance {
  margin: var(--space-lg) 0 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* Micro-trust signals — text only, very subtle, never badges or icons */
.trust-signals {
  margin: var(--space-md) 0 0;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  opacity: 0.85;
  line-height: 1.5;
}

.trust-signals-footer {
  margin: 0 0 var(--space-sm);
}

/* Range copy pattern — use everywhere */
.range-copy {
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

/* Confidence window visualization — soft bars, shaded ranges, no sharp markers.
   Visual normalization of uncertainty: gradient suggests range, not a point. */
.confidence-preview {
  margin-top: var(--space-2xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--color-divider);
  transition: opacity var(--transition-soft);
}

.confidence-preview .range-copy {
  margin: 0 0 var(--space-md);
  font-style: normal;
}

.confidence-bar {
  display: block;
  width: 100%;
  height: 1.5rem;
  background: var(--color-bg);
  border-radius: 999px;
  overflow: hidden;
  position: relative;
}

.confidence-range {
  display: block;
  position: absolute;
  left: 12%;
  right: 12%;
  top: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    rgba(107, 124, 109, 0.04) 0%,
    rgba(107, 124, 109, 0.14) 25%,
    rgba(107, 124, 109, 0.18) 50%,
    rgba(107, 124, 109, 0.14) 75%,
    rgba(107, 124, 109, 0.04) 100%
  );
  border-radius: 999px;
}

.confidence-label {
  margin: var(--space-sm) 0 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
}

/* Confidence block — required reassurance; always shown. Reduces liability and anxiety. */
.confidence-block {
  margin-top: var(--space-xl);
  padding: var(--space-lg);
  background-color: var(--color-bg);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--color-range-soft);
}

.confidence-block p {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.confidence-block p + p {
  margin-top: var(--space-sm);
}

/* Fertility visualization — Cycle Timing Overview */
.fertility-visualization {
  margin-top: var(--space-xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--color-divider);
}

.fertility-visualization h2 {
  margin: 0 0 var(--space-sm);
  font-size: 1rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.timing-subtext {
  margin: 0 0 var(--space-md);
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.cycle-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 2px;
  margin-top: 1rem;
  width: 100%;
  max-width: 100%;
  overflow: hidden;
}

.cycle-day {
  flex: 1 1 0;
  min-width: 5px;
  height: 16px;
  background: #e5e5e5;
  border-radius: 2px;
  transition: background 0.3s ease;
  cursor: default;
}

.cycle-day.fertile-range {
  background: linear-gradient(to top, #d8c6ff, #bca3ff);
}

.cycle-day.ovulation-peak {
  background: #8a6cff;
}

.cycle-legend {
  margin-top: var(--space-sm);
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
}

.cycle-legend span::before {
  content: "";
  display: inline-block;
  width: 0.75em;
  height: 0.75em;
  margin-right: var(--space-xs);
  vertical-align: 0.1em;
  border-radius: 2px;
}

.cycle-legend span:first-child::before {
  background: #bca3ff;
}

.cycle-legend span:last-child::before {
  background: #8a6cff;
}

.cycle-tap-tooltip {
  margin-top: var(--space-sm);
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
}

.visual-disclaimer {
  margin-top: var(--space-md);
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* Fertility window — soft calendar-style visual block */
.fertility-calendar-block {
  margin-top: var(--space-xl);
}

.fertility-calendar-bar {
  display: flex;
  width: 100%;
  height: 1.5rem;
  background: var(--color-bg);
  border-radius: 999px;
  overflow: hidden;
  gap: 2px;
}

.fertility-calendar-lower {
  background: rgba(107, 124, 109, 0.06);
  border-radius: 999px;
  min-width: 0;
}

.fertility-calendar-higher {
  background: var(--color-range-soft);
  border-radius: 999px;
  min-width: 0;
}

.fertility-calendar-legend {
  margin: var(--space-sm) 0 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
}

.fertility-legend-lower::before,
.fertility-legend-higher::before {
  content: "";
  display: inline-block;
  width: 0.75em;
  height: 0.75em;
  margin-right: var(--space-xs);
  vertical-align: 0.1em;
  border-radius: 2px;
}

.fertility-legend-lower::before {
  background: rgba(107, 124, 109, 0.2);
}

.fertility-legend-higher::before {
  background: var(--color-range-soft);
}

/* Fertility education section — Understanding Fertility Timing */
.fertility-education-section {
  max-width: var(--max-width-reading);
  margin: var(--section-gap) auto;
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.fertility-education-section h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.fertility-education-list {
  margin: 0 0 var(--space-lg);
  padding-left: 1.25em;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.fertility-education-list li {
  margin-bottom: var(--space-sm);
}

.fertility-education-list li:last-child {
  margin-bottom: 0;
}

.fertility-contraception-disclaimer {
  margin: 0;
  padding: var(--space-md) var(--space-lg);
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
  background-color: var(--color-bg);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--color-range-soft);
}

/* Early milestones framing — ranges, no definitive language, paired with reassurance */
.milestones-framing {
  margin-top: var(--space-xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--color-divider);
}

.milestones-framing h3 {
  margin: 0 0 var(--space-sm);
  font-size: 0.9375rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.milestone-intro {
  margin: 0 0 var(--space-md);
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.milestone-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.milestone-list li {
  margin-bottom: var(--space-md);
  padding-left: 0;
}

.milestone-list li:last-child {
  margin-bottom: 0;
}

.milestone-label {
  display: block;
  font-size: 0.875rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  margin-bottom: var(--space-xs);
}

.milestone-desc {
  display: block;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

/* What this means / What it doesn't mean — expandable micro-callouts */
.meaning-callout {
  margin-top: var(--space-lg);
  padding-top: var(--space-lg);
  border-top: 1px solid var(--color-divider);
}

.meaning-callout summary {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  list-style: none;
  user-select: none;
  padding: var(--space-sm) 0;
  min-height: var(--tap-target-min);
  display: flex;
  align-items: center;
}

.meaning-callout summary::-webkit-details-marker,
.meaning-callout summary::marker {
  display: none;
}

.meaning-callout summary::before {
  content: "";
  display: inline-block;
  width: 0.5em;
  height: 0.5em;
  margin-right: var(--space-sm);
  border-right: 1px solid var(--color-text-secondary);
  border-bottom: 1px solid var(--color-text-secondary);
  transform: rotate(-45deg);
  transform-origin: 50% 50%;
  transition: transform var(--transition-soft);
}

.meaning-callout[open] summary::before {
  transform: rotate(45deg);
}

.meaning-callout summary:hover {
  color: var(--color-text);
}

.meaning-callout-content {
  margin-top: var(--space-md);
}

.meaning-callout-content p {
  margin: 0 0 var(--space-sm);
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.meaning-callout-content p:last-child {
  margin-bottom: 0;
}

.meaning-callout-content strong {
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

/* Printable timeline preview — one-page vertical timeline mock */
.timeline-preview {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.timeline-preview h2 {
  margin: 0 0 var(--space-sm);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.timeline-preview-intro {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.timeline-preview-badges {
  margin: 0 0 var(--space-lg);
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.timeline-preview-mock {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: var(--color-bg);
  padding: var(--space-xl);
}

.timeline-mock-page {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.timeline-mock-header {
  font-size: 0.875rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--color-divider);
}

.timeline-mock-row {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.timeline-mock-week {
  font-size: 0.8125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.timeline-mock-desc {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: 1.5;
}

/* Teaser block — context only, no CTA, no button */
.teaser-block {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.teaser-block h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.teaser-block p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.tool-preview {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.tool-preview h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.tool-preview p {
  margin: 0 0 var(--space-md);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.tool-preview .btn {
  margin-top: 0;
}

/* Calculator placeholder (legacy, if used elsewhere) */
.calculator-placeholder {
  max-width: var(--max-width-wide);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.calc-skeleton {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.skeleton-line {
  height: 2.5rem;
  background-color: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  opacity: 0.6;
}

/* Secondary tool intro — educational timing (no logic) */
.secondary-tool-intro {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.secondary-tool-intro h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 500;
  color: var(--color-text);
}

.secondary-tool-intro p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.calculator-form {
  display: flex;
  flex-direction: column;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.fertility-calculator-section .calc-form {
  gap: var(--space-2xl);
}

.fertility-calculator-section .form-group {
  gap: var(--space-md);
}

.form-group label {
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text);
}

.form-group input[type="date"] {
  padding: var(--space-md) var(--space-lg);
  min-height: var(--tap-target-min);
  font-family: inherit;
  font-size: 1rem;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  -webkit-appearance: none;
  appearance: none;
}

.form-group input[type="date"]:hover {
  border-color: #d8d5d0;
}

.form-group input[type="date"]:focus {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.form-group input[type="date"]:focus-visible {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

/* Number inputs — same large tap target, soft styling as date inputs */
.form-group input[type="number"] {
  padding: var(--space-md) var(--space-lg);
  min-height: var(--tap-target-min);
  font-family: inherit;
  font-size: 1rem;
  color: var(--color-text);
  background-color: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  -moz-appearance: textfield;
}

.form-group input[type="number"]::-webkit-outer-spin-button,
.form-group input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.form-group input[type="number"]:hover {
  border-color: #d8d5d0;
}

.form-group input[type="number"]:focus,
.form-group input[type="number"]:focus-visible {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.contact-form .form-group input[type="email"],
.contact-form .form-group textarea {
  padding: var(--space-md) var(--space-lg);
  font-family: inherit;
  font-size: 1rem;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  width: 100%;
}

.contact-form .form-group textarea {
  resize: vertical;
  min-height: 8rem;
}

.contact-form .form-group input:focus,
.contact-form .form-group textarea:focus {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.contact-note {
  margin-top: var(--space-xl);
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
}

.contact-note a {
  color: var(--color-accent);
  text-decoration: none;
}

.contact-note a:hover {
  color: var(--color-focus);
}

.helper-text {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.date-message {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-top: var(--space-xs);
}

/* Results (hidden by default) */
.results-section {
  padding: var(--space-xl);
  margin-bottom: var(--space-3xl);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
}

.results-section h2 {
  margin: 0 0 var(--space-lg);
  font-size: 1.125rem;
  font-weight: 500;
}

.results-section h3 {
  margin: var(--space-xl) 0 var(--space-sm);
  font-size: 0.9375rem;
  font-weight: 500;
}

.results-grid {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-sm) var(--space-lg);
  margin: 0;
}

.results-grid dt {
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  font-weight: 400;
}

.results-grid dd {
  margin: 0;
  font-size: 0.9375rem;
  text-align: right;
  font-weight: 500;
}

.milestones-placeholder {
  margin: 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
}

/* Buttons */
.action-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-top: var(--space-xl);
}

.btn {
  padding: var(--space-md) var(--space-lg);
  min-height: var(--tap-target-min);
  font-family: inherit;
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text-secondary);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  width: 100%;
  text-align: center;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.btn:hover:not(:disabled) {
  border-color: #d8d5d0;
  color: var(--color-text);
}

.btn:focus-visible {
  outline: none;
  border-color: var(--color-focus);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.btn-primary {
  margin-top: var(--space-md);
  color: var(--color-text);
  background-color: var(--color-surface);
  border-color: var(--color-accent);
}

.btn-primary:hover:not(:disabled) {
  border-color: #5c6b5e;
  color: var(--color-focus);
}

.btn:disabled {
  opacity: 0.45;
  cursor: default;
  color: var(--color-text-secondary);
  background-color: var(--color-bg);
}

.btn-secondary {
  color: var(--color-text-secondary);
}

/* Privacy badge */
.privacy-badge {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.privacy-badge h2 {
  margin: 0 0 var(--space-lg);
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text);
}

.privacy-badge ul {
  margin: 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.privacy-badge p {
  margin: var(--space-md) 0 0;
  font-size: 0.9375rem;
}

.privacy-badge a {
  color: var(--color-accent);
  text-decoration: none;
}

.privacy-badge a:hover {
  color: var(--color-focus);
}

/* Disclaimer section — about estimates */
.disclaimer-section,
.disclaimer-block {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.disclaimer-section h2,
.disclaimer-block h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.disclaimer-section p,
.disclaimer-block p {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.disclaimer-section p + p,
.disclaimer-block p + p {
  margin-top: var(--space-sm);
}

.disclaimer-section a,
.disclaimer-block a {
  color: var(--color-accent);
  text-decoration: none;
}

.disclaimer-section a:hover,
.disclaimer-block a:hover {
  color: var(--color-focus);
}

/* FAQ — SEO-safe static */
.related-tools-section {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.related-tools-section h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
}

.related-tools-list {
  margin: 0;
  padding-left: 1.25rem;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-loose);
}

.related-tools-list li {
  margin-bottom: var(--space-sm);
}

.related-tools-list a {
  color: var(--color-accent);
  text-decoration: none;
}

.related-tools-list a:hover {
  color: var(--color-focus);
}

.faq-section {
  max-width: var(--max-width-reading);
  margin: 0 auto var(--section-gap);
  padding: var(--space-xl);
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-subtle);
}

.faq-section h2 {
  margin: 0 0 var(--space-lg);
  font-size: 1.125rem;
  font-weight: 500;
  color: var(--color-text);
}

.faq-list {
  margin: 0;
}

.faq-list dt {
  margin: var(--space-lg) 0 var(--space-sm);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text);
}

.faq-list dt:first-of-type {
  margin-top: 0;
}

.faq-list dd {
  margin: 0;
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
  padding-left: 0;
}

/* Footer — centered, small font, soft color, generous top margin. No sticky. */
footer {
  position: relative;
  margin-top: 4rem;
  padding: var(--space-2xl) var(--space-lg);
  text-align: center;
}

footer::before {
  content: "";
  position: absolute;
  inset: 0 -9999px;
  top: -1px;
  background-color: var(--color-surface);
  border-top: 1px solid var(--color-divider);
  z-index: -1;
}

.footer-inner {
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

.footer-privacy-guarantee {
  margin: 0;
  font-size: 0.8125rem;
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  line-height: var(--line-height-body);
}

.footer-privacy {
  margin: var(--space-sm) 0 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.footer-disclaimer {
  margin: var(--space-sm) 0 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

.footer-about {
  margin: var(--space-md) 0 0;
}

.footer-about a {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  text-decoration: none;
  padding: var(--space-sm) 0;
  min-height: var(--tap-target-min);
  display: inline-flex;
  align-items: center;
}

.footer-about a:hover {
  color: var(--color-text);
}

.footer-links {
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--space-sm) var(--space-lg);
}

.footer-links a {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  text-decoration: none;
  padding: var(--space-sm) var(--space-xs);
  min-height: var(--tap-target-min);
  display: inline-flex;
  align-items: center;
}

.footer-links a:hover {
  color: var(--color-text);
}

footer .copyright {
  margin: var(--space-md) 0 0;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  opacity: 0.85;
}

/* Legacy: other pages may use .disclaimer */
.disclaimer {
  margin: 0;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: var(--line-height-body);
}

@media (min-width: 480px) {
  h1 {
    font-size: 2rem;
  }

  .action-buttons {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .btn {
    width: auto;
    min-width: 10rem;
  }
}

/* Desktop — breathing room, intentional empty space, avoid mobile blown up */
@media (min-width: 768px) {
  :root {
    --section-gap: 4rem;
  }

  body {
    line-height: 1.9;
  }

  .page-content {
    padding: 0 var(--space-2xl) var(--space-3xl);
  }

  .hero {
    padding: var(--space-3xl) var(--space-xl) var(--space-2xl);
  }

  .hero-trust,
  .data-section,
  .context-section,
  .identity-section,
  .calculator-section,
  .calculator-placeholder,
  .timeline-preview,
  .teaser-block,
  .tool-preview,
  .fertility-education-section,
  .disclaimer-section,
  .related-tools-section,
  .faq-section {
    padding: var(--space-2xl);
  }
}
